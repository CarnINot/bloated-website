{"ast":null,"code":"import _regeneratorRuntime from\"/home/karan/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/karan/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import ReactDOM from'react-dom/client';import'./index.css';import TheContent from'./App';import reportWebVitals from'./reportWebVitals';/* THIS IS THE LEAST REACT CODE EVER WRITTEN\n   IT BASICALLY ONLY USES REACT IN THE BEGINING\n   THEN IT TRIES TO IGNORE THAT REACT EXISTS */import{jsx as _jsx}from\"react/jsx-runtime\";var intermediate=Array.from(document.getElementsByTagName('body'));var theBody=intermediate[0];var root=ReactDOM.createRoot(theBody);function renderStuff(heading,articleContent){console.log('rendered');}function otherJS(arg){if(arg===\"withreact\"){console.log('moved to body');var divWrapper=theBody.children[0];console.log(divWrapper);theBody.removeChild(divWrapper);var stuffInWrapper=Array.from(divWrapper.children);stuffInWrapper.forEach(function(el){return theBody.appendChild(el);});}var as=Array.from(document.getElementsByTagName('a'));as.forEach(function(a){var path=new URL(a.href).pathname;console.log(path);a.removeAttribute('href');a.addEventListener('click',makeEventListener(path));});}// at this point I just gave up\nfunction renderWithoutReact(heading,articleContent){theBody.innerHTML=\"\\n<div>\\n<h1>\"+heading+\"\\n</h1>\\n</div>\"+articleContent;}function makeEventListener(path){return function(){console.log('clicked');console.log(path);fetch(apiPlace+'/api'+path).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(response){var jsonFetch;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return response.json();case 2:jsonFetch=_context.sent;console.log('got json stuoff');console.log(jsonFetch);renderWithoutReact(jsonFetch.heading,jsonFetch.articleContent);setTimeout(otherJS,1,\"noreact\");case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};}var apiPlace=\"http://localhost:8000\";fetch(apiPlace+'/api'+window.location.pathname).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(response){var jsonFetch;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return response.json();case 2:jsonFetch=_context2.sent;root.render(/*#__PURE__*/_jsx(TheContent,{heading:jsonFetch.heading,articleContent:jsonFetch.articleContent}));setTimeout(function(){return otherJS('withreact');},1);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();","map":{"version":3,"names":["React","ReactDOM","TheContent","reportWebVitals","intermediate","Array","from","document","getElementsByTagName","theBody","root","createRoot","renderStuff","heading","articleContent","console","log","otherJS","arg","divWrapper","children","removeChild","stuffInWrapper","forEach","el","appendChild","as","a","path","URL","href","pathname","removeAttribute","addEventListener","makeEventListener","renderWithoutReact","innerHTML","fetch","apiPlace","then","response","json","jsonFetch","setTimeout","window","location","render"],"sources":["/home/karan/my-app/src/index.js"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport TheContent from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\n/* THIS IS THE LEAST REACT CODE EVER WRITTEN\n   IT BASICALLY ONLY USES REACT IN THE BEGINING\n   THEN IT TRIES TO IGNORE THAT REACT EXISTS */\n\n\nconst intermediate =Array.from(document.getElementsByTagName('body'));\nconst theBody = intermediate[0];\nvar root = ReactDOM.createRoot(theBody);\n\n\nfunction renderStuff(heading,articleContent){\n     console.log('rendered');\n }\n\nfunction otherJS(arg){\n    if ( arg === \"withreact\"){\n    console.log('moved to body');\n    const divWrapper =  theBody.children[0];\n    console.log(divWrapper);\n    theBody.removeChild(divWrapper);\n    const stuffInWrapper =  Array.from(divWrapper.children);\n    stuffInWrapper.forEach(el => theBody.appendChild(el));\n    }\n    const as = Array.from(document.getElementsByTagName('a'));\n    as.forEach(a => {\n\tconst path =new URL(a.href).pathname;\n\tconsole.log(path);\n\ta.removeAttribute('href');\n\ta.addEventListener('click',makeEventListener(path));});\n\n}\n\n// at this point I just gave up\nfunction renderWithoutReact(heading,articleContent){\n    theBody.innerHTML = `\n<div>\n<h1>` +\nheading + `\n</h1>\n</div>` +\narticleContent;\n}\n\nfunction makeEventListener(path){\n    return  function(){\n\tconsole.log('clicked');\n\tconsole.log(path);\n\tfetch(apiPlace + '/api' + path).then(\n\t    async response =>{ var jsonFetch = await response.json()\n\t\t\t       \t    console.log('got json stuoff');\n\t\t\t       console.log(jsonFetch);\n\n\n\t\t\t       renderWithoutReact(jsonFetch.heading,jsonFetch.articleContent);\n\t\t\t       setTimeout(otherJS,1,\"noreact\");\n\t\t\t     });\n    \n    }\n}\nconst apiPlace = `http://localhost:8000`\n\nfetch(apiPlace + '/api' + window.location.pathname).then( async response => {var jsonFetch = await response.json() ;\n\n    root.render((<TheContent heading={jsonFetch.heading} articleContent={jsonFetch.articleContent} />));\n\n\t\t\t\t\t\t\t\t\t     \n\t\t\t\t\t\t\t\t\t     setTimeout(() => otherJS('withreact'),1);\n\t\t\t\t\t\t\t\t  });\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}